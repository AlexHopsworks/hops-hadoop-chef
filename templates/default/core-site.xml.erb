<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>

<!-- In: conf/core-site.xml -->
<property>
  <name>hadoop.tmp.dir</name>
  <value><%= node[:hadoop][:tmp_dir] %></value>
  <description>A base for other temporary directories.</description>
</property>

<!--
<property>
  <name>io.file.buffer.size</name>
  <value><%= node[:hadoop][:io_buffer_sz] %></value>
  <description>Size of read/write buffer used in SequenceFiles.</description>
</property>
-->

<property>
  <name>dfs.namenodes.rpc.addresses</name>
  <value><%= @allNNs %></value>  
  <description>HopsFS-specific list of comma-separated host:port pairs for NameNodes.</description>
</property>

<property>
  <name>ipc.client.connect.max.retries</name>
  <value><%= node[:hadoop][:max_retries] %></value>
  <description>If a HDFS client has a communication problem with a NameNode, retry the connection the number of times specified here.</description>
</property>


<property>
  <name>dfs.storage.driver.configfile</name>
  <value>ndb.props</value>
  <description>
  </description>
</property>


<!--
  <property>
    <name>hadoop.proxyuser.<%= node[:hdfs][:user] %>.hosts</name>
    <value>@hopsworks</value>
  </property>
  <property>
    <name>hadoop.proxyuser.<%= node[:hdfs][:user] %>.groups</name>
    <value>*</value>
  </property>

  <property>
    <name>hadoop.proxyuser.<%= node[:hadoop][:yarn][:user] %>.hosts</name>
    <value>@hopsworks</value>
  </property>
  <property>
    <name>hadoop.proxyuser.<%= node[:hadoop][:yarn][:user] %>.groups</name>
    <value>*</value>
  </property>
-->

  <property>
    <name>hadoop.proxyuser.glassfish.hosts</name>
    <value>*</value>
  </property>
  <property>
    <name>hadoop.proxyuser.glassfish.groups</name>
    <value>*</value>
  </property>

<property>
  <name>dfs.leader.check.interval</name>
  <value>2000</value>
  <description>Interval between the NameNode or ResourceMgr running the leader election protocol. </description>
</property>

<property>
  <name>dfs.leader.missed.hb</name>
  <value>2</value>
  <description></description>
</property>

<property>
  <name>dfs.leader.tp.increment</name>
  <value>100</value>
  <description></description>
</property>

<!--
<property>
  <name>hadoop.security.group.mapping</name>
  <value>io.hops.metadata.ndb.dalimpl.hdfs.UserGroupClusterj</value>
  <description>Class used to implement the mapping of username to a list of groups</description>
</property>
-->

  
 <property>
  <name>fs.defaultFS</name>
  <value><%= @firstNN %></value>
 </property>

</configuration>
